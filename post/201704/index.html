<!DOCTYPE HTML>

<html lang="en-us">

<head>
	<meta charset="utf-8">
	<title>2017年4月 - 多摩雄的游戏人生</title>
	<meta name="author" content="map[name:多摩雄 email:]">

	
	
	<meta name="description" content="">
	

	
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    
	<link href='' rel="alternate" title="多摩雄的游戏人生" type="application/atom+xml">
	
	<link rel="canonical" href="https://constly.github.io/post/201704/">
	<link href="https://constly.github.io//favicon.png" rel="shortcut icon">
	<link href="https://constly.github.io//css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="https://constly.github.io//css/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	



	<script src="https://constly.github.io//js/jquery.min.js"></script>
	
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	
	
</div>

<img src="https://constly.github.io//images/head.jpg" alt="Profile Picture", height="128" width="128">

<h1>
	<a href="/">
		多摩雄
	</a>
</h1>

<p class="subtitle"> 
	一生只做一部游戏。 
</p>
<nav id="main-nav">
<ul class="main">
    <li><a href="/">全部文章</a></li>
    <li><a href="/post/">目录列表</a></li>
    <li><a href="/summary">开发总结</a></li>
    <li><a href="/about">关于作者</a></li>
</ul>

<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:constly.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
		
			<a class="github" href='https://github.com/constly' title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
	</div>
</nav>
</header>
			</div>
		</div>
		<div class="mid-col">
			
			<div class="mid-col-container">
				<div id="content" class="inner">
					<div itemscope itemtype="http://schema.org/Blog">
					<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <h1 class="title" itemprop="name">2017年4月</h1>
	<div class="entry-content" itemprop="articleBody"><h4 id="4月1日-周六-愚人节">4月1日，周六: 愚人节</h4>

<pre><code>*   看dota2亚洲邀请赛，很遗憾，WINGS被EG淘汰了
</code></pre>

<p></p>

<h4 id="4月2日-周日-清明三天假期">4月2日，周日：清明三天假期</h4>

<pre><code>*   找王、宏达他们，一起试了下摩拜单车，我擦嘞，蛮新奇的，开启了新世界的大门
</code></pre>

<h4 id="4月3日-周一">4月3日，周一：</h4>

<pre><code>*   找谭班，还是跟以前一样，吃吃吃，撑死我了
*   发现吃自助不能总是想着吃回本，实在是太痛苦了
</code></pre>

<h4 id="4月4日-周二">4月4日，周二：</h4>

<pre><code>*   天道酬勤，恭喜B神所在的IG战胜OG，获得第二届DAC冠军。
*   前两天骑车太猛，现在腿又酸又痛。。
</code></pre>

<h4 id="4月5日-周三">4月5日，周三</h4>

<pre><code>*   整个项目推翻重来，重新设计模型编辑器。
*   计划加入网络模块，争取可以局域网联机。
*   重新调整程序架构（分服务器和客户端），废弃先前的git库，从头再来。
</code></pre>

<h4 id="4月6日-周四">4月6日，周四</h4>

<pre><code>*   尝试使用双龙写的服务器底层库，分别编译为dll集成到unity中和编译为独立的exe，如果顺利的话，玩家既可以在本地建房间一个人玩，
    也可加入其他人的房间一起玩。
*   再次调整程序架构，将所有脚本和配置文件放在core文件中，不在与游戏一起打包。
</code></pre>

<h4 id="4月7日-周五">4月7日，周五</h4>

<pre><code>*   与服务器socket对接成功（包括dll模式和standalone模型）    
*   居然可以重定向console输出，将dll的输出通过黑框框显示出来，这下看服务器输出就方便了，开心
*   修改服务器底层，集成lpeg和sproto.core
</code></pre>

<h4 id="4月8日-周六">4月8日，周六</h4>

<pre><code>*   新建lua-warpper工程，并结合sprotodump将.sproto文件转换为CSharp文件
*   服务器基础框架开发中: player, gameserver, loginserver, database等
*   用笔记本编译32位dll总是出错，查了半天，发现需要修复vs...
*   尝试将重定向console输出的功能加在windows包中，如果可以的话，看输出就方便多了
*   花了几个小时将卧室布局重新调整了下，看起来还行
</code></pre>

<h4 id="4月9日-周日">4月9日，周日</h4>

<pre><code>*   dll模式有很多奇怪的的地方...   
*   烦死了，vs保存文件的格式没法设置为utf-8，纠结了半天，找了个ForceUTF8的插件
*   服务器基础框架填坑ing，还是分为game center, game server, login server架构
</code></pre>

<h4 id="4月10日-周一">4月10日，周一</h4>

<pre><code>*   将C++类导出到lua
*   sproto摸索中   
*   加一个copy_core.bat的批处理指令
</code></pre>

<h4 id="4月11日-周二">4月11日，周二</h4>

<pre><code>*   将engine独立为一个单独的git库，方便日后维护
*   客户端与服务器协议交互初步跑通了    
</code></pre>

<h4 id="4月12日-周三">4月12日，周三</h4>

<pre><code>*   服务器使用udp广播自身的ip和监听的端口号，这样客户端就可以查看局域网内所有的服务器了
*   增加临时接口：得到本机ip地址，具体还需要日后多测试才知道bug所在
</code></pre>

<h4 id="4月13日-周四">4月13日，周四</h4>

<pre><code>*   时隔一年，再次去游泳，感觉还行。。。
*   服务器配置文件加载   
*   将运行目录移到GameEditor下面，这样就不必频繁拷贝core目录了
*   客户端文件整理，底层登录逻辑开发ing
*   用了下《番茄土豆》，挺好的
</code></pre></div></article>
					
						

	


		
			
		

		
			
		

		
			
		

		

	
	
		
  	
  	


					
					
					


				    </div>
				</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2017

    多摩雄




<script src="https://constly.github.io//js/slash.js"></script>
<script src="https://constly.github.io//js/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script></footer>
		</div>
	</div>
	
</body>
</html>
